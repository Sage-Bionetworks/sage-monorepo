# MkDocs Integration Guide

This document explains how the `docs/` directory is integrated with the MkDocs site.

## Navigation Configuration

The MkDocs site uses explicit navigation configuration to ensure the sidebar navigation remains visible when browsing Technical Documentation pages.

### How It Works

Overview pages are listed in the `nav` section of [mkdocs.yml](../mkdocs.yml):

```yaml
nav:
  - Technical Documentation:
      - Overview: technical-documentation-overview.md
      - RFCs: rfcs/README.md
      - Architecture: architecture/README.md
      - ADRs: adr/README.md
```

Users navigate to individual RFCs, Architecture docs, and ADRs through links in the overview pages. This keeps the navigation clean and manageable.

## Directory Structure

```
docs/
├── .mkdocs-integration.md                # This file (not shown in site)
├── technical-documentation-overview.md   # Technical documentation overview
├── submission-workflow.md                # Document submission workflow
├── rfcs/
│   ├── README.md             # RFC overview
│   └── *.md                  # RFC documents (add to mkdocs.yml nav)
├── architecture/
│   ├── README.md             # Architecture overview
│   ├── *.md                  # Architecture docs (add to mkdocs.yml nav)
│   └── diagrams/
│       ├── README.md
│       └── *.gif, *.svg      # Diagrams
└── adr/
    ├── README.md             # ADR overview
    └── *.md                  # ADR documents (add to mkdocs.yml nav)
```

## Adding New Content

### Adding New Documentation (RFC, Architecture Document, ADR)

1. **Create your file** in the appropriate directory:

   - RFC: `docs/rfcs/NNNN-product-brief-title.md`
   - Architecture: `docs/architecture/my-feature-plan.md`
   - ADR: `docs/adr/0001-my-decision.md`

2. **Update the index** by adding your new file to the table/list in that directory's `README.md`:

   - RFCs: Add to the Active RFCs table in `docs/rfcs/README.md`
   - Architecture: Add to the Active Architecture Documents table in `docs/architecture/README.md`
   - ADRs: Add to the Active ADRs table in `docs/adr/README.md`

3. **No need to update `mkdocs.yml`** - users navigate via the overview pages

### Adding a Diagram

1. **Save your diagram**: `docs/architecture/diagrams/my-diagram.svg` (use kebab-case naming)
2. **Reference from architecture doc** using relative path:
   ```markdown
   ![Architecture](./diagrams/my-diagram.svg)
   ```
3. **Update the diagram index**: Add entry to the diagrams table in `docs/architecture/README.md`

## RFCs (Included)

The `docs/rfcs/` directory is included in the MkDocs site for better visibility of active proposals. Once an RFC is approved:

1. Move the file to `docs/architecture/`
2. Update status in both `rfcs/README.md` and `architecture/README.md`

## Navigation Simplicity

Individual RFCs, Architecture docs, and ADRs are **not** listed in `mkdocs.yml`. Users navigate to them through links in the overview pages (README.md files). This keeps the navigation clean and easy to maintain.

## Local Preview

To preview the MkDocs site locally:

```bash
# Install dependencies
uv sync --group dev

# Serve the site
mkdocs serve
```

Then visit http://127.0.0.1:8000

## Build Verification

After making changes, verify the site builds correctly:

```bash
# Build the site
mkdocs build

# Verify pages were built
ls site/rfcs/ site/architecture/ site/adr/
```

You should see `index.html` files for all the documentation pages.

## References

- [MkDocs Documentation](https://www.mkdocs.org/)
- [Material Theme](https://squidfunk.github.io/mkdocs-material/)
