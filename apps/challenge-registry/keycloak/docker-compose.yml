version: "3.8"

services:
  challenge-registry-keycloak:
    image: sagebionetworks/challenge-registry-keycloak:latest
    container_name: challenge-registry-keycloak
    restart: always
    env_file:
      - .env
    volumes:
      - ./data/h2:/opt/keycloak/data/h2
      - ./themes/challenge-registry:/opt/keycloak/themes/challenge-registry
    networks:
      - challenge-registry
    ports:
      - "8080:8080"
    command: start-dev

networks:
  challenge-registry:
    name: challenge-registry