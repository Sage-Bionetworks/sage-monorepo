# Development environment configuration
# This file is loaded when running commands with :dev configuration
# Example: nx synth openchallenges-infra-cdk:dev

# Optional: AWS Profile for authentication
# Specify the AWS profile name configured in ~/.aws/credentials
# If not provided, uses the default AWS profile or environment credentials
AWS_PROFILE=openchallenges-dev-Developer

# Required: Environment name
ENV=dev

# Required: Your developer identifier for unique resource naming
# Use your GitHub username or initials (alphanumeric, hyphens, underscores only)
# Resources will be named: openchallenges-dev-{DEVELOPER_NAME}-{resource}
# Example: DEVELOPER_NAME=jsmith
DEVELOPER_NAME=

# Required: VPC CIDR block for the development environment
# Default: 10.0.0.0/16 (65,536 IP addresses)
# Use a non-overlapping CIDR if you have multiple dev environments
# Example: VPC_CIDR=10.255.92.0/24
VPC_CIDR=10.255.92.0/24

# Optional: Application version/Docker image tag
# Default: "edge" (latest development build)
# Use "latest" for stable releases or specific version tags (e.g., "1.3.8")
# All services (web, api, auth, gateway) use the same version tag
APP_VERSION=edge

# Optional: Custom domain name for the application
# Default: Uses ALB DNS name (e.g., openchallenges-dev-xyz-1234567890.us-east-1.elb.amazonaws.com)
# Provide your custom domain if you have one configured in Route53
# Note: Requires valid ACM certificate (see CERTIFICATE_ARN below)
# Example: FQDN=dev-jsmith.openchallenges.io
# FQDN=

# Required: Load Docker images from local .tar files instead of remote registry
# Default: false (pulls from ghcr.io/sage-bionetworks)
# Set to "true" to use local images from project root (e.g., bixarena-app.tar)
# Useful for testing local builds before pushing to registry
USE_LOCAL_IMAGES=true

# Optional: ACM Certificate ARN for HTTPS
# If not provided, ALB will run in HTTP-only mode (for testing)
# To enable HTTPS, create an ACM certificate in AWS Certificate Manager
# and provide its ARN here
# CERTIFICATE_ARN=arn:aws:acm:us-east-1:123456789012:certificate/d82cd9ec-2106-4293-9232-62af18bb6295

# Required: Google OAuth 2.0 Client ID for authentication
# Register your application at https://console.cloud.google.com/apis/credentials
# Navigate to: APIs & Services > Credentials > Create Credentials > OAuth 2.0 Client ID
# This is the public identifier for OpenChallenges in Google's OAuth provider
# Used to enable "Sign in with Google" functionality
# Example: GOOGLE_CLIENT_ID=123456789-abc123xyz.apps.googleusercontent.com
GOOGLE_CLIENT_ID=

# Required: Google OAuth 2.0 Client Secret (CONFIDENTIAL)
# Obtain this from the same Google Cloud Console credentials page
# SECURITY: Stored in AWS Secrets Manager, never exposed in CloudFormation
# NEVER commit this value to version control or share publicly
# Used to authenticate OpenChallenges as a trusted OAuth client with Google
# Example: GOOGLE_CLIENT_SECRET=GOCSPX-abcd1234efgh5678ijkl
GOOGLE_CLIENT_SECRET=

# Required: Synapse OAuth 2.0 Client ID for authentication
# Register your application at https://www.synapse.org/
# Navigate to: Account Settings > OAuth Clients > Create New Client
# This is the public identifier for OpenChallenges in Synapse's OAuth provider
# Used to enable "Sign in with Synapse" functionality (Sage Bionetworks platform)
# Example: SYNAPSE_CLIENT_ID=12345
SYNAPSE_CLIENT_ID=

# Required: Synapse OAuth 2.0 Client Secret (CONFIDENTIAL)
# Obtain this from the Synapse OAuth client registration page
# SECURITY: Stored in AWS Secrets Manager, never exposed in CloudFormation
# NEVER commit this value to version control or share publicly
# Used to authenticate OpenChallenges as a trusted OAuth client with Synapse
# Example: SYNAPSE_CLIENT_SECRET=abc123def456ghi789jkl
SYNAPSE_CLIENT_SECRET=

# Required: OpenSearch domain administrator username
# Default: opensearch-admin
# This user has full administrative access to the OpenSearch domain
# The password is auto-generated and stored securely in AWS Secrets Manager
# Retrieve credentials: aws secretsmanager get-secret-value --secret-id openchallenges-dev-{DEVELOPER_NAME}-opensearch-credentials
OPENSEARCH_ADMIN_USERNAME=opensearch-admin

# Required: Date when OpenChallenges data was last updated
# Format: YYYY-MM-DD (ISO 8601 date format)
# This date is displayed in the web application footer to inform users
# Example: DATA_UPDATED_ON=2025-10-19
DATA_UPDATED_ON=2026-01-18

# Optional: Enable placeholder mode for the image service
# Default: "true" (placeholder images enabled)
# When "true": Image service returns URLs to placeholder images (e.g., via placeholder.com)
#   No images need to exist in the S3 bucket - useful for initial deployment
# When "false": Image service returns URLs to real images stored in S3 via Thumbor
# Set to "false" after uploading images to S3 using the migration commands in README
IMAGE_SERVICE_PLACEHOLDER_ENABLED=true