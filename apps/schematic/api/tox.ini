[tox]
envlist = py39
skipsdist = True

[testenv:py39]
allowlist_externals=pipenv
commands =
    pipenv install --deploy --dev
    pytest --cov-report html:../../../coverage/apps/schematic/api --cov=openapi_server
    coverage lcov -o ../../../coverage/apps/schematic/api/lcov.info
    sed -i 's/SF:/SF:apps\/api\//g' ../../../coverage/apps/schematic/api/lcov.info

; [testenv:docs]
; description = invoke sphinx-build to build the HTML docs
; deps = sphinx >= 1.7.5, < 2
; commands =  build

; [tox]
; envlist = py3
; skipsdist=True

; [testenv]
; deps=-r{toxinidir}/requirements.txt
;      -r{toxinidir}/test-requirements.txt
; 	 {toxinidir}

; commands=
;    pytest --cov=schematic_api
