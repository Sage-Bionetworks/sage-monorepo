server:
  port: 8404

spring:
  application:
    name: amp-als-dataset-service
  datasource:
    url: jdbc:mysql://amp-als-mariadb:8401/dataset_service # ${db.url}
    username: dataset_service
    password: changeme
    driver-class-name: com.mysql.cj.jdbc.Driver
  flyway:
    enabled: true
    clean-disabled: false
  jackson:
    date-format: org.sagebionetworks.amp.als.dataset.service.RFC3339DateFormat
    serialization:
      WRITE_DATES_AS_TIMESTAMPS: false
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MariaDBDialect
        search:
          enable: true
          # schema_management:
          #   strategy: drop-and-create
          backend:
            hosts: amp-als-opensearch:8406
            # username: admin
            # password: qwER43@!qwER43@!
  autoconfigure:
    # Prevent Spring Boot from auto-configuring a default Elasticsearch client,
    # which Hibernate Search might incorrectly use, leading to node sniffing errors
    # when a local cluster is not available.
    exclude: org.springframework.boot.autoconfigure.elasticsearch.ElasticsearchRestClientAutoConfiguration
# management:
#   endpoints:
#     web:
#       exposure:
#         include: health, info, beans, flyway, conditions
# logging:
#   level:
#     org.flywaydb.core: DEBUG

# logging:
#   level:
#     org.hibernate.search: DEBUG
#     org.hibernate.search.backend.elasticsearch: DEBUG
#     org.apache.http: DEBUG
#     org.apache.http.wire: TRACE
