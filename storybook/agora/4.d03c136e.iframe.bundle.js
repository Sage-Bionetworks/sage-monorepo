(self.webpackChunksage_monorepo=self.webpackChunksage_monorepo||[]).push([[4],{"./libs/agora/charts/src/lib/box-plot-chart/box-plot-chart.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/.pnpm/css-loader@7.1.2_@rspack+core@1.5.0_@swc+helpers@0.5.17__webpack@5.101.2_@swc+core@1.5._c4fd534e7bd00249f2087646541cdc25/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/.pnpm/css-loader@7.1.2_@rspack+core@1.5.0_@swc+helpers@0.5.17__webpack@5.101.2_@swc+core@1.5._c4fd534e7bd00249f2087646541cdc25/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/agora/charts/src/lib/box-plot-chart/box-plot-chart.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>BoxPlotComponent});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.1/node_modules/tslib/tslib.es6.js");var box_plot_chart_componentngResource=__webpack_require__("./libs/agora/charts/src/lib/box-plot-chart/box-plot-chart.component.scss?ngResource"),box_plot_chart_componentngResource_default=__webpack_require__.n(box_plot_chart_componentngResource),root_effect_scheduler=__webpack_require__("./node_modules/.pnpm/@angular+core@20.3.1_@angular+compiler@20.3.1_rxjs@7.8.1_zone.js@0.15.0/node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),debug_node=__webpack_require__("./node_modules/.pnpm/@angular+core@20.3.1_@angular+compiler@20.3.1_rxjs@7.8.1_zone.js@0.15.0/node_modules/@angular/core/fesm2022/debug_node.mjs"),src=__webpack_require__("./libs/agora/services/src/index.ts"),charts_angular_src=__webpack_require__("./libs/explorers/charts-angular/src/index.ts");let BoxPlotComponent=class BoxPlotComponent{helperService=(0,root_effect_scheduler.WQX)(src.wT);_data=[];points=[];summaries=[];xAxisLabelTooltipFormatter;isInitialized=!1;pointTooltipFormatter;get data(){return this._data}set data(data){this._data=data,this.init()}heading="";xAxisLabel="";yAxisLabel="LOG 2 FOLD CHANGE";yAxisMin;yAxisMax;plotHeight="480px";reset(){this.points=[],this.summaries=[],this.xAxisLabelTooltipFormatter=void 0,this.isInitialized=!1,this.pointTooltipFormatter=void 0}init(){this.reset(),this._data?.length&&(this.initData(),this.isInitialized=!0)}initData(){this._data.forEach(item=>{const xAxisCategory=item.key;if(item.circle){const point={xAxisCategory,value:item.circle.value,text:item.circle.tooltip};this.points.push(point)}const summary={xAxisCategory,min:item.value[0],firstQuartile:item.quartiles[0],median:item.value[1],thirdQuartile:item.quartiles[2],max:item.value[2]};this.summaries.push(summary),this.xAxisLabelTooltipFormatter=params=>{const xAxisCategory=params.name;return this.getXAxisTooltipText(xAxisCategory)},this.pointTooltipFormatter=(pt,params)=>pt.text??pt.value.toString()}),this.points.sort((a,b)=>a.xAxisCategory.localeCompare(b.xAxisCategory)),this.summaries.sort((a,b)=>a.xAxisCategory.localeCompare(b.xAxisCategory))}getXAxisTooltipText(text){return this.helperService.getGCTColumnTooltipText(text)}static propDecorators={data:[{type:debug_node.pde}],heading:[{type:debug_node.pde}],xAxisLabel:[{type:debug_node.pde}],yAxisLabel:[{type:debug_node.pde}],yAxisMin:[{type:debug_node.pde}],yAxisMax:[{type:debug_node.pde}],plotHeight:[{type:debug_node.pde}]}};BoxPlotComponent=(0,tslib_es6.Cg)([(0,debug_node.uAl)({selector:"agora-box-plot-chart",imports:[charts_angular_src.i],template:'<div\n  sageBoxplot\n  [style.height]="plotHeight"\n  [points]="points"\n  [summaries]="summaries"\n  [title]="heading"\n  [xAxisTitle]="xAxisLabel"\n  [yAxisTitle]="yAxisLabel"\n  [yAxisMin]="yAxisMin"\n  [yAxisMax]="yAxisMax"\n  [xAxisLabelTooltipFormatter]="xAxisLabelTooltipFormatter"\n  [pointTooltipFormatter]="pointTooltipFormatter"\n></div>\n',styles:[box_plot_chart_componentngResource_default()]})],BoxPlotComponent)},"./libs/agora/services/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{wT:()=>HelperService});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.1/node_modules/tslib/tslib.es6.js"),root_effect_scheduler=__webpack_require__("./node_modules/.pnpm/@angular+core@20.3.1_@angular+compiler@20.3.1_rxjs@7.8.1_zone.js@0.15.0/node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),debug_node=__webpack_require__("./node_modules/.pnpm/@angular+core@20.3.1_@angular+compiler@20.3.1_rxjs@7.8.1_zone.js@0.15.0/node_modules/@angular/core/fesm2022/debug_node.mjs"),primeng_api=__webpack_require__("./node_modules/.pnpm/primeng@19.0.9_18bfed6a870968de8d6d53a87eef0e78/node_modules/primeng/fesm2022/primeng-api.mjs");let ErrorService=class ErrorService{messageService=(0,root_effect_scheduler.WQX)(primeng_api.bg);handleError(error){this.messageService.clear(),this.messageService.add({severity:"warn",sticky:!0,summary:"Error",detail:"An unexpected error has occurred, we recommend reloading the application."}),setTimeout(()=>{this.messageService.clear()},5e3);throw console.error(JSON.stringify(error,(()=>{const seen=new WeakSet;return(key,value)=>{if("object"==typeof value&&null!==value){if(seen.has(value))return;seen.add(value)}return value}})())),error}};ErrorService=(0,tslib_es6.Cg)([(0,debug_node._qm)({providedIn:"root"})],ErrorService);var fesm2022_module=__webpack_require__("./node_modules/.pnpm/@angular+common@20.3.1_@angular+core@20.3.1_@angular+compiler@20.3.1_rxjs@7.8.1_zone.js@0.15.0__rxjs@7.8.1/node_modules/@angular/common/fesm2022/module.mjs"),lodash=__webpack_require__("./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js");let HelperService=class HelperService{loading=!1;gctSelection=[];modelSelection="";loadingChange=new debug_node.bkB;setLoading(state){this.loading=state,this.loadingChange.emit(null)}getLoading(){return this.loading}getGCTColumnSortIconTooltipText(column){switch(column.toUpperCase()){case"RISK SCORE":return"Sort by Target Risk Score value";case"MULTI-OMIC":return"Sort by Multi-omic Risk Score value";case"GENETIC":return"Sort by Genetic Risk Score value";default:return"Sort by log2 fold change value"}}getGCTColumnTooltipText(column){switch(column.toUpperCase()){case"RISK SCORE":return"Target Risk Score";case"MULTI-OMIC":return"Multi-omic Risk Score";case"GENETIC":return"Genetic Risk Score";case"ACC":return"Anterior Cingulate Cortex";case"AntPFC":return"Anterior Prefrontal Cortex";case"BRAAK":return"Neurofibrillary Tangles";case"CBE":return"Cerebellum";case"CERAD":return"Neuritic Plaques";case"COGDX":return"Clinical Consensus Diagnosis";case"DCFDX":return"Clinical Cognitive Diagnosis";case"DLPFC":return"Dorsolateral Prefrontal Cortex";case"FP":return"Frontal Pole";case"IFG":return"Inferior Frontal Gyrus";case"MFG":return"Middle Frontal Gyrus";case"PCC":return"Posterior Cingulate Cortex";case"PHG":return"Parahippocampal Gyrus";case"STG":return"Superior Temporal Gyrus";case"TCX":return"Temporal Cortex";default:return""}}getScrollTop(){if("undefined"==typeof window||"undefined"==typeof document)return{x:0,y:0};const supportPageOffset=void 0!==window.pageXOffset,isCSS1Compat="CSS1Compat"===(document.compatMode||"");return supportPageOffset?{x:window.pageXOffset,y:window.pageYOffset}:isCSS1Compat?{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}:{x:document.body.scrollLeft,y:document.body.scrollTop}}getOffset(el){if("undefined"==typeof window||"undefined"==typeof document||!el)return{top:0,left:0};const rect=el.getBoundingClientRect(),scroll=this.getScrollTop();return{top:rect.top+scroll.y,left:rect.left+scroll.x}}roundNumberAsString(num,fixed){const n=parseFloat(num);return this.roundNumber(n,fixed)}roundNumber(num,decimalPlaces){return(0,lodash.round)(num,decimalPlaces).toFixed(decimalPlaces).toString()}getSignificantFigures(n,sig=2){let sign=1;if(0===n)return 0;n<0&&(n*=-1,sign=-1);const mult=Math.pow(10,sig-Math.floor(Math.log(n)/Math.LN10)-1);return Math.round(n*mult)/mult*sign}setGCTSelection(genes){this.gctSelection=genes}getGCTSelection(){return this.gctSelection}deleteGCTSelection(){this.gctSelection=[]}getColor(name){return"primary"===name?"#3c4a63":"secondary"===name?"#8b8ad1":"tertiary"===name?"#42c7bb":"action-primary"===name?"#5081a7":""}getUrlParam(name){if("undefined"==typeof window)return null;const queryString=window.location.search;return new URLSearchParams(queryString).get(name)}addSingleUrlParam(url,paramName,paramValue){const param=(new fesm2022_module.Nl).set(paramName,paramValue);return`${url.split("?")[0]}?${param.toString()}`}capitalizeFirstLetterOfString(s){return 0===s.length?"":s[0].toUpperCase()+s.slice(1)}static propDecorators={loadingChange:[{type:debug_node.k7i}]}};HelperService=(0,tslib_es6.Cg)([(0,debug_node._qm)({providedIn:"root"})],HelperService);var common=__webpack_require__("./node_modules/.pnpm/@angular+common@20.3.1_@angular+core@20.3.1_@angular+compiler@20.3.1_rxjs@7.8.1_zone.js@0.15.0__rxjs@7.8.1/node_modules/@angular/common/fesm2022/common.mjs"),platform_browser=__webpack_require__("./node_modules/.pnpm/@angular+platform-browser@20.3.1_@angular+animations@20.3.1_@angular+core@20.3.1_@angul_3d3c35849bcecff9d44a8fcc855c52e4/node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs"),of=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/observable/of.js"),map=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/operators/map.js"),shareReplay=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js");let SvgIconService=class SvgIconService{http=(0,root_effect_scheduler.WQX)(fesm2022_module.Qq);sanitizer=(0,root_effect_scheduler.WQX)(platform_browser.up);svgCache=new Map;platformId=(0,root_effect_scheduler.WQX)(debug_node.Agw);commonSvgPaths=["agora-assets/icons/cog.svg","agora-assets/icons/column.svg","agora-assets/icons/download.svg","agora-assets/icons/external-link.svg","agora-assets/icons/gct.svg","agora-assets/icons/info-circle.svg","agora-assets/icons/pin.svg","agora-assets/icons/trash.svg"];constructor(){this.preloadCommonSvgs()}preloadCommonSvgs(){this.commonSvgPaths.forEach(path=>{this.getSvg(path).subscribe()})}isValidImagePath(path){return Boolean(path)&&path.startsWith("agora-assets/icons/")}getSvg(path){if((0,common.Vy)(this.platformId))return(0,of.of)("");if(!this.isValidImagePath(path))throw new Error("Invalid SVG path");const cached=this.svgCache.get(path);if(cached)return cached;const request=this.http.get(path,{responseType:"text"}).pipe((0,map.T)(svg=>this.sanitizer.bypassSecurityTrustHtml(svg)),(0,shareReplay.t)(1));return this.svgCache.set(path,request),request}static ctorParameters=()=>[]};SvgIconService=(0,tslib_es6.Cg)([(0,debug_node._qm)({providedIn:"root"}),(0,tslib_es6.Sn)("design:paramtypes",[])],SvgIconService)},"./libs/explorers/charts-angular/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>BoxplotDirective});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.4.1/node_modules/tslib/tslib.es6.js"),root_effect_scheduler=__webpack_require__("./node_modules/.pnpm/@angular+core@20.3.1_@angular+compiler@20.3.1_rxjs@7.8.1_zone.js@0.15.0/node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),debug_node=__webpack_require__("./node_modules/.pnpm/@angular+core@20.3.1_@angular+compiler@20.3.1_rxjs@7.8.1_zone.js@0.15.0/node_modules/@angular/core/fesm2022/debug_node.mjs");const minimalBaseChartTheme={pointSymbolSize:18},grayGridBaseChartTheme={pointSymbolSize:9},minimalBoxplotChartTheme={...minimalBaseChartTheme,boxplotItemStyle:{borderColor:"#bcc0ca",borderWidth:2,color:"transparent"},titleTextStyle:{fontWeight:700,fontSize:"18px",color:"black"},xAxisLabelTextStyle:{color:"black",fontWeight:"bold",fontSize:"14px"},yAxisTitleTextStyle:{fontWeight:700,fontSize:"18px",color:"black"},yAxisSplitLine:{show:!1},yAxisTickLabelMaxWidth:80,tooltip:{confine:!0,position:"top",backgroundColor:"#63676C",borderColor:"transparent",textStyle:{color:"white"},extraCssText:"opacity: 0.9; width: auto; max-width: 300px; white-space: pre-wrap; text-align: center;"},grid:{left:98,right:20,containLabel:!1}},grayGridBoxplotChartTheme={...minimalBoxplotChartTheme,...grayGridBaseChartTheme,getBoxplotMarkArea:xAxisCategories=>({itemStyle:{color:"#AEB5BC1A"},data:xAxisCategories.map((_,idx)=>{const pcIndex=idx+1;return[{xAxis:pcIndex-.4},{xAxis:pcIndex+.4}]})}),xAxisLabelTextStyle:{...minimalBoxplotChartTheme.xAxisLabelTextStyle,fontWeight:"normal"},yAxisTitleTextStyle:{...minimalBoxplotChartTheme.yAxisTitleTextStyle,fontWeight:400,fontSize:"14px"},yAxisSplitLine:{show:!0},tooltip:{...minimalBoxplotChartTheme.tooltip,backgroundColor:"white",borderRadius:0,textStyle:{color:"#22252A"}},grid:{...minimalBoxplotChartTheme.grid,left:minimalBoxplotChartTheme.grid.left-3}},getPointStyleFromArray=(pointCategory,pointCategories,styleValues,styleType,notFoundValue)=>{const pointIndex=pointCategories.indexOf(pointCategory||"");return pointIndex<0?(console.warn(`Point category ${pointCategory} not found.`),notFoundValue):pointIndex>=styleValues.length?(console.warn(`More point category values provided than possible ${styleType}s. Will re-use an existing ${styleType}.`),styleValues[pointIndex%styleValues.length]):styleValues[pointIndex]},getCategoryPointShape=(pointCategory,pointCategories,shapes=["circle","triangle","rect","roundRect","diamond","pin","arrow"])=>getPointStyleFromArray(pointCategory,pointCategories,shapes,"shape","none"),getCategoryPointColor=(pointCategory,pointCategories,colors=["#000000","#E69F00","#56B4E9","#009E73","#F0E442","#0072B2","#D55E00","#CC79A7"])=>getPointStyleFromArray(pointCategory,pointCategories,colors,"color","transparent"),getCategoryPointStyle=(pointCategory,hasPointCategories,customMapping,defaultStyleFunction,pointCategories,defaultValue)=>{if(!hasPointCategories)return defaultValue;if(customMapping){return pointCategory&&customMapping[pointCategory]||defaultValue}return defaultStyleFunction(pointCategory,pointCategories)};function getUniqueValues(values,key,sortValues=!1){const outputVals=[];return values.forEach(val=>{const value=val[key];value&&-1===outputVals.indexOf(value)&&outputVals.push(value)}),sortValues&&outputVals.sort(),outputVals}function getOffsetAndJitteredXValue(xValue,pointIndex,nPoints,offset=.2,jitterMax=0){if(1===nPoints)return xValue;const totalDistance=Math.min(offset*(nPoints-1),.9);return xValue-totalDistance/2+pointIndex*totalDistance/(nPoints-1)+function getRandomNumber(min,max){const range=max-min;return Math.random()*range+min}(-1*jitterMax,jitterMax)}function getXAxisValueOfXAxisCategory(xAxisCategories,xAxisCategory){return xAxisCategories.indexOf(xAxisCategory)+1}var echarts=__webpack_require__("./node_modules/.pnpm/echarts@5.6.0/node_modules/echarts/index.js");function initChart(chartDom,initialHeight="350px"){!function ensureChartDomHasHeight(chartDom,initialHeight="350px"){const computedHeight=window.getComputedStyle(chartDom,null).getPropertyValue("height"),inlineHeight=chartDom.style.height;computedHeight&&"0px"!==computedHeight&&inlineHeight&&"0px"!==inlineHeight||(chartDom.style.height=initialHeight)}(chartDom,initialHeight);const chart=echarts.Ts(chartDom);return function resizeChartOnWindowResize(chartDom,chart){const resizeObserver=new ResizeObserver(()=>{chart.resize()});resizeObserver.observe(chartDom)}(chartDom,chart),chart}class BoxplotChart{chart;constructor(chartDom,boxplotProps){this.chart=initChart(chartDom),this.setOptions(boxplotProps)}destroy(){this.chart?.dispose()}getTitleOptions(boxplotChartTheme,xAxisTitle,title){const titles=[];return xAxisTitle&&titles.push({text:xAxisTitle,textStyle:boxplotChartTheme.titleTextStyle,left:"center",top:"bottom"}),title&&titles.push({text:title,left:"center",top:"top",textStyle:boxplotChartTheme.titleTextStyle}),titles}getXAxisOptions(xAxisCategories,xAxisLabelFormatter,xAxisLabelTooltipFormatter,boxplotChartTheme){return[{id:"value-x-axis",type:"value",axisLine:{onZero:!1},min:.5,max:function(value){return Math.round(2*(value.max+.5))/2},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{showMinLabel:!1,showMaxLabel:!1,show:!1}},{id:"category-x-axis",type:"category",data:xAxisCategories,axisLabel:{...boxplotChartTheme.xAxisLabelTextStyle,interval:0,formatter:value=>xAxisLabelFormatter?xAxisLabelFormatter(value):value},axisTick:{alignWithLabel:!0},axisLine:{onZero:!1},tooltip:{...xAxisLabelTooltipFormatter&&{formatter:params=>xAxisLabelTooltipFormatter(params),extraCssText:"border: unset; opacity: 0.9; background-color: #63676c"},show:Boolean(xAxisLabelTooltipFormatter)},triggerEvent:Boolean(xAxisLabelTooltipFormatter),position:"bottom"}]}getYAxisOptions(yAxisTitle,yAxisMin,yAxisMax,boxplotChartTheme){return{type:"value",name:yAxisTitle,nameLocation:"middle",nameGap:boxplotChartTheme.yAxisTickLabelMaxWidth,nameTextStyle:boxplotChartTheme.yAxisTitleTextStyle,axisLine:{show:!0},axisLabel:{width:boxplotChartTheme.yAxisTickLabelMaxWidth,hideOverlap:!0,showMinLabel:null==yAxisMin,showMaxLabel:null==yAxisMax},splitLine:boxplotChartTheme.yAxisSplitLine,min:yAxisMin?yAxisMin-.2:void 0,max:yAxisMax?yAxisMax+.2:void 0}}setOptions(boxplotProps){if(!this.chart)return;const{points,summaries,title,xAxisTitle,xAxisLabelFormatter,yAxisTitle,yAxisMin,yAxisMax,xAxisLabelTooltipFormatter,pointTooltipFormatter,pointCategoryColors,pointCategoryShapes,pointOpacity,chartStyle}=boxplotProps,showLegend=boxplotProps.showLegend||!1,noDataStyle=boxplotProps.noDataStyle||"textOnly",boxplotChartTheme="grayGrid"===chartStyle?grayGridBoxplotChartTheme:minimalBoxplotChartTheme,noPoints=0===points.length,noSummaries=null==summaries||0===summaries.length;if(noPoints&&noSummaries)return void function setNoDataOption(chart,noDataStyle){const noDataStyleOptions={textOnly:{text:"No data is currently available.",textColor:"rgb(174, 181, 188)",backgroundColor:"transparent"},grayBackground:{text:"Data unavailable",textColor:"#4A5056",backgroundColor:"#AEB5BC1A"}},noDataOptions={backgroundColor:noDataStyleOptions[noDataStyle].backgroundColor,title:{text:noDataStyleOptions[noDataStyle].text,left:"center",top:"middle",textStyle:{color:noDataStyleOptions[noDataStyle].textColor,fontStyle:"italic",fontWeight:400,fontSize:18}},aria:{enabled:!0,label:{description:noDataStyleOptions[noDataStyle].text}}};chart.setOption(noDataOptions,!0)}(this.chart,noDataStyle);const xAxisCategories=boxplotProps.xAxisCategories??getUniqueValues(noPoints&&summaries?summaries:points,"xAxisCategory"),pointCategories=getUniqueValues(points,"pointCategory"),hasPointCategories=pointCategories.length>0,dataForScatterPoints=function addXAxisValueToCategoryPoint(points,xAxisCategories,pointCategories,offset=.2,jitterMax=0){return points.map(pt=>{let xAxisValue=getXAxisValueOfXAxisCategory(xAxisCategories,pt.xAxisCategory);return pointCategories.length>0&&pt.pointCategory&&(xAxisValue=getOffsetAndJitteredXValue(xAxisValue,pointCategories.indexOf(pt.pointCategory),pointCategories.length,offset,jitterMax)),{...pt,xAxisValue}})}(points,xAxisCategories,pointCategories,.3,.02),dataForStaticBoxplotSummaries=summaries?function addXAxisValueToBoxplotSummaries(summaries,xAxisCategories){return summaries.map(summary=>{const xAxisValue=getXAxisValueOfXAxisCategory(xAxisCategories,summary.xAxisCategory);return{...summary,xAxisValue}})}(summaries,xAxisCategories):void 0,dataForDynamicBoxplotTransforms=function formatCategoryPointsForBoxplotTransform(points,xAxisCategories){const dataForBoxplotTransform=[];for(let i=0;i<=xAxisCategories.length;i++)dataForBoxplotTransform.push([]);return points.forEach(pt=>{const xAxisCategoryValue=getXAxisValueOfXAxisCategory(xAxisCategories,pt.xAxisCategory);dataForBoxplotTransform[xAxisCategoryValue].push(pt.value)}),dataForBoxplotTransform}(dataForScatterPoints,xAxisCategories),datasetOpts=[{id:"static-boxplot-summaries",dimensions:dataForStaticBoxplotSummaries?Object.keys(dataForStaticBoxplotSummaries[0]):void 0,source:dataForStaticBoxplotSummaries},{id:"points",dimensions:noPoints?void 0:Object.keys(dataForScatterPoints[0]),source:dataForScatterPoints},{id:"points-formatted-for-boxplot-transform",source:dataForDynamicBoxplotTransforms},{id:"dynamic-boxplot-summaries",fromDatasetId:"points-formatted-for-boxplot-transform",transform:{type:"boxplot"}}],pointDatasetIds=hasPointCategories?pointCategories:["points"];hasPointCategories&&pointCategories.forEach(pointCategory=>{datasetOpts.push({id:pointCategory,fromDatasetId:"points",transform:{type:"filter",config:{dimension:"pointCategory",value:pointCategory}}})});const seriesOpts=[],boxplotSeriesBase={type:"boxplot",z:1,itemStyle:boxplotChartTheme.boxplotItemStyle,boxWidth:[7,115],silent:!0,tooltip:{show:!1},markArea:boxplotChartTheme.getBoxplotMarkArea?.(xAxisCategories)};summaries?seriesOpts.push({...boxplotSeriesBase,datasetId:"static-boxplot-summaries",xAxisId:"value-x-axis",encode:{x:"xAxisValue",y:["min","firstQuartile","median","thirdQuartile","max"]}}):seriesOpts.push({...boxplotSeriesBase,datasetId:"dynamic-boxplot-summaries",xAxisId:"value-x-axis"}),pointDatasetIds.forEach(id=>{seriesOpts.push({type:"scatter",datasetId:id,name:id,xAxisId:"value-x-axis",encode:{x:"xAxisValue",y:"value"},symbolSize:boxplotChartTheme.pointSymbolSize,symbol:"points"===id?"circle":getCategoryPointStyle(id,hasPointCategories,pointCategoryShapes,getCategoryPointShape,pointCategories,"circle"),itemStyle:{color:"points"===id?"#8b8ad1":getCategoryPointStyle(id,hasPointCategories,pointCategoryColors,getCategoryPointColor,pointCategories,"#8b8ad1"),opacity:pointOpacity||.8},tooltip:{formatter:params=>{if(pointTooltipFormatter)return pointTooltipFormatter(params.data,params);return`${params.data.value}`}}})});const option={legend:{show:showLegend,data:pointDatasetIds,orient:"horizontal",left:"left",top:"bottom",itemHeight:boxplotChartTheme.pointSymbolSize,itemWidth:boxplotChartTheme.pointSymbolSize,selectedMode:!1},grid:{...boxplotChartTheme.grid,top:title?60:20},title:this.getTitleOptions(boxplotChartTheme,xAxisTitle,title),aria:{enabled:!0},dataset:datasetOpts,xAxis:this.getXAxisOptions(xAxisCategories,xAxisLabelFormatter,xAxisLabelTooltipFormatter,boxplotChartTheme),yAxis:this.getYAxisOptions(yAxisTitle,yAxisMin,yAxisMax,boxplotChartTheme),tooltip:boxplotChartTheme.tooltip,series:seriesOpts};this.chart.setOption(option,!0)}}class LegendChart{INITIAL_CHART_HEIGHT="25px";chart;constructor(chartDom,legendProps){this.chart=initChart(chartDom,this.INITIAL_CHART_HEIGHT),this.setOptions(legendProps)}destroy(){this.chart?.dispose()}setOptions(legendProps){if(!this.chart)return;const{pointStyles,chartStyle}=legendProps,chartTheme="grayGrid"===chartStyle?grayGridBaseChartTheme:minimalBaseChartTheme,option={legend:{data:pointStyles.map(item=>item.label),orient:"horizontal",left:"left",top:"bottom",itemHeight:chartTheme.pointSymbolSize,itemWidth:chartTheme.pointSymbolSize,selectedMode:!1},xAxis:{show:!1},yAxis:{show:!1},series:pointStyles.map(item=>({name:item.label,type:"scatter",symbol:item.shape,data:[[0,0]],itemStyle:{color:item.color,opacity:item.opacity},symbolSize:chartTheme.pointSymbolSize}))};this.chart.setOption(option,!0)}}let BoxplotDirective=class BoxplotDirective{el=(0,root_effect_scheduler.WQX)(debug_node.aKT);boxplot;points=[];summaries;title="";xAxisTitle;xAxisLabelFormatter;xAxisCategories;yAxisTitle="";yAxisMin;yAxisMax;xAxisLabelTooltipFormatter;pointTooltipFormatter;pointCategoryColors;pointCategoryShapes;showLegend;pointOpacity;noDataStyle;chartStyle;ngOnInit(){this.boxplot=new BoxplotChart(this.el.nativeElement,this.getBoxplotProps())}ngOnChanges(){this.boxplot?.setOptions(this.getBoxplotProps())}ngOnDestroy(){this.boxplot?.destroy()}getBoxplotProps(){return{points:this.points,summaries:this.summaries,title:this.title,xAxisTitle:this.xAxisTitle,xAxisLabelFormatter:this.xAxisLabelFormatter,xAxisCategories:this.xAxisCategories,yAxisTitle:this.yAxisTitle,yAxisMin:this.yAxisMin,yAxisMax:this.yAxisMax,xAxisLabelTooltipFormatter:this.xAxisLabelTooltipFormatter,pointTooltipFormatter:this.pointTooltipFormatter,pointCategoryColors:this.pointCategoryColors,pointCategoryShapes:this.pointCategoryShapes,showLegend:this.showLegend,pointOpacity:this.pointOpacity,noDataStyle:this.noDataStyle,chartStyle:this.chartStyle}}static propDecorators={points:[{type:debug_node.pde,args:[{required:!0}]}],summaries:[{type:debug_node.pde}],title:[{type:debug_node.pde}],xAxisTitle:[{type:debug_node.pde}],xAxisLabelFormatter:[{type:debug_node.pde}],xAxisCategories:[{type:debug_node.pde}],yAxisTitle:[{type:debug_node.pde}],yAxisMin:[{type:debug_node.pde}],yAxisMax:[{type:debug_node.pde}],xAxisLabelTooltipFormatter:[{type:debug_node.pde}],pointTooltipFormatter:[{type:debug_node.pde}],pointCategoryColors:[{type:debug_node.pde}],pointCategoryShapes:[{type:debug_node.pde}],showLegend:[{type:debug_node.pde}],pointOpacity:[{type:debug_node.pde}],noDataStyle:[{type:debug_node.pde}],chartStyle:[{type:debug_node.pde}]}};BoxplotDirective=(0,tslib_es6.Cg)([(0,debug_node.WLR)({selector:"[sageBoxplot]",standalone:!0})],BoxplotDirective);let LegendDirective=class LegendDirective{el=(0,root_effect_scheduler.WQX)(debug_node.aKT);legend;pointStyles=[];chartStyle;ngOnInit(){this.legend=new LegendChart(this.el.nativeElement,this.getLegendProps())}ngOnChanges(){this.legend?.setOptions(this.getLegendProps())}ngOnDestroy(){this.legend?.destroy()}getLegendProps(){return{pointStyles:this.pointStyles,chartStyle:this.chartStyle}}static propDecorators={pointStyles:[{type:debug_node.pde,args:[{required:!0}]}],chartStyle:[{type:debug_node.pde}]}};LegendDirective=(0,tslib_es6.Cg)([(0,debug_node.WLR)({selector:"[sageLegend]",standalone:!0})],LegendDirective)}}]);