<p-multiSelect
  [options]="values"
  [(ngModel)]="selectedValues"
  (onChange)="onChange(selectedValues)"
  [placeholder]="placeholder"
  [maxSelectedLabels]="2"
  selectedItemsLabel="{0} items selected"
  [overlayOptions]="overlayOptions"
  [filter]="filter"
  (onFilter)="onSearch($event)"
  [lazy]="true"
  [virtualScroll]="true"
  [virtualScrollItemSize]="20"
  (onLazyLoad)="onLazyLoad($event)"
>
  <!-- custom search bar -->
  <ng-template *ngIf="filterByApiClient" pTemplate="header">
    <div class="custom-filter-container p-multiselect-filter-container">
      <input
        type="text"
        role="textbox"
        class="custom-filter p-multiselect-filter p-inputtext p-component"
        autocomplete="on"
        [(ngModel)]="searchTerm"
        (input)="onCustomSearch()"
      />
      <span class="p-multiselect-filter-icon pi pi-search"></span>
    </div>
  </ng-template>
  <!-- custom list items -->
  <ng-template let-value pTemplate="values">
    <div class="item-container">
      <openchallenges-avatar *ngIf="showAvatar" [avatar]="getAvatar(value)"></openchallenges-avatar>
      <span class="item-label">{{ value.label }}</span>
    </div>
  </ng-template>
</p-multiSelect>
