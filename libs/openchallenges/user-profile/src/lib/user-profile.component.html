<div class="base mat-typography" *ngIf="user$ | async as user">
  <section id="profile-top" class="row">
    <div class="link" class="row">
      <mat-icon aria-hidden="true" class="link-home">home</mat-icon>
      <mat-icon aria-hidden="true" class="link-home">chevron_right</mat-icon>
      <span>{{ user.name }}</span>
    </div>
    <openchallenges-avatar class="profile-pic" [avatar]="userAvatar"></openchallenges-avatar>
    <div id="details" class="col">
      <h2>
        Awesome User <mat-icon aria-hidden="true" class="verified">verified_outline</mat-icon>
      </h2>
      <p class="username">@awesome-user</p>
      <div class="user-tag">User</div>
    </div>
    <div id="activity" class="col-4">
      <div class="activity-card">
        <p class="mat-body-strong">Registered:</p>
        <p>01/01/2020</p>
      </div>
      <div class="activity-card">
        <p class="mat-body-strong">Profile last updated:</p>
        <p>03/31/2022</p>
      </div>
    </div>
  </section>
  <section id="stats" class="row">
    <div class="col fill-empty"></div>
    <div class="col">
      <openchallenges-user-profile-stats [loggedIn]="loggedIn"></openchallenges-user-profile-stats>
    </div>
  </section>
  <section id="profile-bottom" class="content">
    <div class="sidenav col">
      <div class="nav-group">
        <a
          class="nav-item"
          routerLink="."
          [queryParams]="{ tab: 'overview' }"
          [ngClass]="{ 'active-tab': activeTab === tabs['overview'] }"
        >
          Biography
        </a>
        <a
          class="nav-item"
          routerLink="."
          [queryParams]="{ tab: 'challenges' }"
          [ngClass]="{ 'active-tab': activeTab === tabs['challenges'] }"
        >
          Challenges
        </a>
        <a
          class="nav-item"
          routerLink="."
          [queryParams]="{ tab: 'starred' }"
          [ngClass]="{ 'active-tab': activeTab === tabs['starred'] }"
        >
          Starred
        </a>
      </div>
    </div>
    <div class="main col">
      <ng-container [ngSwitch]="activeTab">
        <openchallenges-user-profile-overview *ngSwitchCase="tabs['overview']" [user]="user">
        </openchallenges-user-profile-overview>
        <openchallenges-user-profile-challenges *ngSwitchCase="tabs['challenges']" [user]="user">
        </openchallenges-user-profile-challenges>
        <openchallenges-user-profile-starred
          *ngSwitchCase="tabs['starred']"
          [user]="user"
          [loggedIn]="loggedIn"
        >
        </openchallenges-user-profile-starred>
      </ng-container>
    </div>
  </section>
</div>

<openchallenges-footer [version]="appVersion"></openchallenges-footer>
