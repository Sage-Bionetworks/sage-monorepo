<main class="base mat-typography">
  <div *ngIf="challenge$ | async as challenge">
    <section id="top" class="row">
      <div id="breadcrumbs" class="row">
        <a aria-label="Back to home" href="/home"><mat-icon aria-hidden="true">home</mat-icon></a>
        <mat-icon aria-hidden="true">chevron_right</mat-icon>
        <a routerLink="/challenge">challenges</a>
        <mat-icon aria-hidden="true">chevron_right</mat-icon>
        <span>{{ challenge.name }}</span>
      </div>
      <div class="profile-pic-container">
        <openchallenges-avatar
          class="profile-pic"
          [avatar]="challengeAvatar"
        ></openchallenges-avatar>
        <span
          *ngIf="challenge.status"
          [ngClass]="['status', challenge.status ? challenge.status : '']"
          >{{ challenge.status }}</span
        >
      </div>
      <div id="details" class="col">
        <div class="details-top row">
          <h2>
            {{ challenge.name }}
          </h2>
          <!-- <div class="featured">
            <mat-icon aria-hidden="true">military_tech</mat-icon>
            <span>FEATURED!</span>
          </div> -->
        </div>
        <p class="username">@{{ challenge.slug }}</p>
      </div>
      <div id="activity" class="col-4">
        <div class="activity-card">
          <p class="mat-body-strong">Start date:</p>
          <p>{{ challenge.startDate }}</p>
        </div>
        <div class="activity-card">
          <p class="mat-body-strong">End date:</p>
          <p>{{ challenge.endDate }}</p>
        </div>
      </div>
    </section>
    <section id="stats" class="row">
      <div class="col fill-empty"></div>
      <div class="col">
        <openchallenges-challenge-stats [loggedIn]="loggedIn"></openchallenges-challenge-stats>
      </div>
    </section>
    <section id="bottom" class="content">
      <div class="sidenav col">
        <div class="nav-group">
          <a
            class="nav-item"
            routerLink="."
            [queryParams]="{ tab: 'overview' }"
            [ngClass]="{ 'active-tab': activeTab === tabs['overview'] }"
          >
            Overview
          </a>
          <a
            class="nav-item"
            routerLink="."
            [queryParams]="{ tab: 'organizers' }"
            [ngClass]="{ 'active-tab': activeTab === tabs['organizers'] }"
          >
            Organizers
          </a>
          <a
            class="nav-item"
            routerLink="."
            [queryParams]="{ tab: 'sponsors' }"
            [ngClass]="{ 'active-tab': activeTab === tabs['sponsors'] }"
          >
            Sponsors
          </a>
          <a
            class="nav-item"
            routerLink="."
            [queryParams]="{ tab: 'stargazers' }"
            [ngClass]="{ 'active-tab': activeTab === tabs['stargazers'] }"
          >
            Stargazers
          </a>
        </div>
      </div>
      <div class="main col">
        <ng-container [ngSwitch]="activeTab">
          <openchallenges-challenge-overview
            *ngSwitchCase="tabs['overview']"
            [challenge]="challenge"
          >
          </openchallenges-challenge-overview>
          <openchallenges-challenge-details *ngSwitchCase="tabs['details']" [challenge]="challenge">
          </openchallenges-challenge-details>
          <openchallenges-challenge-organizers
            *ngSwitchCase="tabs['organizers']"
            [challenge]="challenge"
          >
          </openchallenges-challenge-organizers>
          <openchallenges-challenge-sponsors
            *ngSwitchCase="tabs['sponsors']"
            [challenge]="challenge"
          >
          </openchallenges-challenge-sponsors>
          <openchallenges-challenge-stargazers
            *ngSwitchCase="tabs['stargazers']"
            [challenge]="challenge"
          >
          </openchallenges-challenge-stargazers>
        </ng-container>
      </div>
    </section>
  </div>
</main>
<openchallenges-footer [version]="appVersion"></openchallenges-footer>
