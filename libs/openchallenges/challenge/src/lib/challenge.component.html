<main class="base mat-typography">
  <div *ngIf="challenge$ | async as challenge">
    <section id="profile-top" class="row">
      <openchallenges-avatar
          class="profile-pic"
          [avatar]="challengeAvatar"
        ></openchallenges-avatar>
      <div id="profile-details" class="col">
        <h2>
          {{ challenge.name }}
          <mat-icon aria-hidden="true" class="verified">verified_outline</mat-icon>
        </h2>
        <p class="username">@{{ challenge.slug }}</p>
        <div class="profile-type"
          *ngIf="challenge.status"
          [ngClass]="['status', challenge.status ? challenge.status : '']"
          >{{ challenge.status }}</div>
      </div>
      <div id="profile-activity" class="col-4">
        <div class="profile-activity-card">
          <p class="mat-body-strong">Start date:</p>
          <p>{{ challenge.startDate }}</p>
        </div>
        <div class="profile-activity-card">
          <p class="mat-body-strong">End date:</p>
          <p>{{ challenge.endDate }}</p>
        </div>
      </div>
    </section>
    <section id="profile-stats" class="row">
      <div class="col fill-empty"></div>
      <div class="col">
        <openchallenges-challenge-stats [loggedIn]="loggedIn"></openchallenges-challenge-stats>
      </div>
    </section>
    <section id="profile-bottom" class="content">
      <div class="profile-sidenav col">
        <div class="profile-nav-group">
          <a
            class="profile-nav-item"
            routerLink="."
            [queryParams]="{ tab: 'overview' }"
            [ngClass]="{ 'active-tab': activeTab === tabs['overview'] }"
          >
            Overview
          </a>
          <a
            class="profile-nav-item"
            routerLink="."
            [queryParams]="{ tab: 'organizers' }"
            [ngClass]="{ 'active-tab': activeTab === tabs['organizers'] }"
          >
            Organizers
          </a>
          <a
            class="profile-nav-item"
            routerLink="."
            [queryParams]="{ tab: 'sponsors' }"
            [ngClass]="{ 'active-tab': activeTab === tabs['sponsors'] }"
          >
            Sponsors
          </a>
          <a
            class="profile-nav-item"
            routerLink="."
            [queryParams]="{ tab: 'stargazers' }"
            [ngClass]="{ 'active-tab': activeTab === tabs['stargazers'] }"
          >
            Stargazers
          </a>
        </div>
      </div>
      <div class="main col">
        <ng-container [ngSwitch]="activeTab">
          <openchallenges-challenge-overview
            *ngSwitchCase="tabs['overview']"
            [challenge]="challenge"
          >
          </openchallenges-challenge-overview>
          <openchallenges-challenge-details *ngSwitchCase="tabs['details']" [challenge]="challenge">
          </openchallenges-challenge-details>
          <openchallenges-challenge-organizers
            *ngSwitchCase="tabs['organizers']"
            [challenge]="challenge"
          >
          </openchallenges-challenge-organizers>
          <openchallenges-challenge-sponsors
            *ngSwitchCase="tabs['sponsors']"
            [challenge]="challenge"
          >
          </openchallenges-challenge-sponsors>
          <openchallenges-challenge-stargazers
            *ngSwitchCase="tabs['stargazers']"
            [challenge]="challenge"
          >
          </openchallenges-challenge-stargazers>
        </ng-container>
      </div>
    </section>
  </div>
</main>
<openchallenges-footer [version]="appVersion"></openchallenges-footer>
