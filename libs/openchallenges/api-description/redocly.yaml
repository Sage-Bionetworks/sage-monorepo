apis:
  # OpenChallenges API
  openchallenges-public:
    root: ./openapi/openapi.yaml
    decorators:
      info-override:
        version: 1.0.0
        title: OpenChallenges API
        description: Discover, explore, and contribute to open biomedical challenges.
        license:
          name: Apache 2.0
          url: https://github.com/Sage-Bionetworks/sage-monorepo/blob/main/LICENSE.txt
        contact:
          name: Support
          url: https://github.com/Sage-Bionetworks/sage-monorepo
        x-logo:
          url: https://dev.openchallenges.io/img/unsafe/logo/OpenChallenges-logo.png
      servers:
        - url: http://localhost/v1

  # Auth API
  auth-public:
    root: ./src/auth.openapi.yaml
    decorators:
      filter-in:
        property: x-audience
        value: [public]
  auth-service:
    root: ./src/auth.openapi.yaml
    decorators:
      filter-in:
        property: x-audience
        value: [public, internal]

  # Challenge API
  challenge-public:
    root: ./src/challenge.openapi.yaml
    decorators:
      filter-in:
        property: x-audience
        value: [public]
  challenge-service:
    root: ./src/challenge.openapi.yaml
    decorators:
      filter-in:
        property: x-audience
        value: [public, internal]

  # Image API
  image-public:
    root: ./src/image.openapi.yaml
    decorators:
      filter-in:
        property: x-audience
        value: [public]
  image-service:
    root: ./src/image.openapi.yaml
    decorators:
      filter-in:
        property: x-audience
        value: [public, internal]

  # Organization API
  organization-public:
    root: ./src/organization.openapi.yaml
    decorators:
      filter-in:
        property: x-audience
        value: [public]
  organization-service:
    root: ./src/organization.openapi.yaml
    decorators:
      filter-in:
        property: x-audience
        value: [public, internal]
