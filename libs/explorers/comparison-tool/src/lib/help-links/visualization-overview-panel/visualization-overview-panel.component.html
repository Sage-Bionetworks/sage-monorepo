@if (platformService.isBrowser) {
  <p-dialog
    [header]="panes.length > 0 ? panes[activePane].heading : ''"
    [visible]="comparisonToolService.isVisualizationOverviewVisible()"
    (visibleChange)="comparisonToolService.setVisualizationOverviewVisibility($event)"
    [modal]="true"
    [draggable]="false"
    [resizable]="false"
    [dismissableMask]="true"
    [style]="dialogStyle"
    styleClass="visualization-overview-panel"
    (onHide)="onHide()"
  >
    <div class="visualization-overview-panel-panes">
      @for (pane of panes; track pane; let i = $index) {
        <div class="visualization-overview-panel-pane" [ngClass]="{ active: activePane === i }">
          @if (activePane === i) {
            <div [innerHtml]="pane.content"></div>
          }
        </div>
      }
    </div>

    <ng-template #footer>
      <div
        class="checkbox"
        pTooltip="Checking this box sets a single functional cookie that saves this setting on your device. You can remove this cookie at any time by unchecking this box."
        tooltipPosition="top"
        tooltipStyleClass="visualization-overview-panel-tooltip"
      >
        <p-checkbox
          [ngModel]="willHide"
          (ngModelChange)="setWillHide($event)"
          [binary]="true"
          size="small"
          inputId="hideDialog"
        />
        <label for="hideDialog">Remember not to show this again</label>
      </div>
      <div>
        @if (activePane > 0) {
          <p-button
            styleClass="visualization-overview-panel-previous"
            label="Back"
            (click)="previous()"
            [rounded]="true"
            size="small"
            icon="pi pi-angle-left"
            variant="outlined"
          ></p-button>
        }
        @if (activePane !== panes.length - 1) {
          <p-button
            label="Next"
            (click)="next()"
            [rounded]="true"
            size="small"
            icon="pi pi-angle-right"
            iconPos="right"
          ></p-button>
        }
        @if (activePane === panes.length - 1) {
          <p-button label="Close" (click)="close()" [rounded]="true" size="small"></p-button>
        }
      </div>
    </ng-template>
  </p-dialog>
}
