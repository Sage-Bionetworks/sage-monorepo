<div class="column-selector">
  <p-popover #columnPopover styleClass="toggle-columns">
    <ul id="columns">
      @for (column of columns; track column) {
        @if (column.type !== 'primary') {
          <li>
            <div class="column-toggle" (click)="toggleColumn(column)">
              <div class="column-toggle-status">
                @if (column.selected) {
                  <span class="pi pi-check"></span>
                }
              </div>
              <div>
                <span>{{ column.name }}</span>
              </div>
            </div>
          </li>
        }
      }
    </ul>
  </p-popover>
  <button
    (click)="columnPopover.toggle($event)"
    pTooltip="Show/hide columns"
    tooltipPosition="top"
    tooltipStyleClass="tooltip-xs"
  >
    <p-overlaybadge severity="warn" [badgeDisabled]="!hasHiddenColumns()">
      <explorers-svg-icon
        imagePath="/explorers-assets/icons/column.svg"
        [width]="20"
        [height]="16"
        altText="column"
      ></explorers-svg-icon>
    </p-overlaybadge>
  </button>
</div>
