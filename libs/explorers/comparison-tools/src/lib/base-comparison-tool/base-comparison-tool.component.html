<main>
  @if (isLoading()) {
    <div id="loading">
      <explorers-loading-container [count]="resultsCount()"></explorers-loading-container>
    </div>
  } @else {
    <explorers-comparison-tool-header
      [filterResultsButtonTooltip]="filterResultsButtonTooltip()"
      [headerTitle]="headerTitle()"
      (filterToggle)="toggleFilterPanel()"
    />
    <div class="comparison-tool-body">
      <div class="comparison-tool-body-inner">
        <div class="comparison-tool-tables">
          <explorers-comparison-tool-controls
            [pageConfigs]="pageConfigs()"
            [selectorsWikiParams]="selectorsWikiParams()"
            [(dropdownsSelection)]="dropdownsSelection"
            [showSignificanceControls]="showSignificanceControls()"
          />
          <explorers-comparison-tool-columns />
          <ng-content></ng-content>
          <explorers-comparison-tool-filter-panel
            [filterConfigs]="currentConfig()?.filters || []"
            [(isOpen)]="isFilterPanelOpen"
            (filtersChanged)="onFiltersChanged($event)"
          />
        </div>
      </div>
    </div>
  }
</main>
