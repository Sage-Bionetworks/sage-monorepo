# Redocly configuration file for BixArena API
#
# About `x-audience`:
# - The optional `x-audience` annotation can be applied to OpenAPI nodes such as tags, paths,
#   components, and others.
# - When using decorators like `filter-in` or `filter-out`, only nodes annotated with `x-audience`
#   are evaluated for inclusion or exclusion.
# - Nodes without an `x-audience` annotation are not affected by these filters and will always be
#   included in the output OpenAPI files.
# - This allows you to selectively expose or hide parts of your API for different audiences, while
#   keeping unannotated nodes visible in all outputs.
# - Best practice: Be intentional and always specify the `x-audience` annotation on path nodes.

apis:
  # BixArena API
  bixarena-public:
    root: ./openapi/openapi.yaml
    decorators:
      info-override:
        version: 1.0.0
        title: BixArena API
        description: Advance bioinformatics by evaluating and ranking AI agents.
        license:
          name: Apache 2.0
          url: https://github.com/Sage-Bionetworks/sage-monorepo/blob/main/LICENSE.txt
        contact:
          name: Support
          url: https://github.com/Sage-Bionetworks/sage-monorepo
      plugin/replace-servers-url:
        serverUrl: 'https://bixarena.ai/api/v1'

  # Main API
  api-public:
    root: ./src/api.openapi.yaml
    decorators:
      remove-x-internal:
        internalFlagProperty: 'x-sage-internal'
  api-service:
    root: ./src/api.openapi.yaml

  # AI API
  ai-public:
    root: ./src/ai.openapi.yaml
    decorators:
      remove-x-internal:
        internalFlagProperty: 'x-sage-internal'
  ai-service:
    root: ./src/ai.openapi.yaml
